<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009"
			   xmlns:s="library://ns.adobe.com/flex/spark"
			   xmlns:mx="library://ns.adobe.com/flex/mx"
			   xmlns:services="services.*"  minWidth="955" minHeight="600" 
			   width="100%">
	<fx:Declarations>
		<s:CallResponder id="getListByAreaResult"/>
		<services:SiteSchema id="siteSchema"
							 fault="Alert.show(event.fault.faultString + '\n' + event.fault.faultDetail)"
							 showBusyCursor="true"/>
		<!-- 将非可视元素（例如服务、值对象）放在此处 -->
	</fx:Declarations>
	<fx:Script>
		<![CDATA[
			import mx.controls.Alert;
			import mx.controls.Image;
			import mx.events.FlexEvent;
			
			import spark.components.Button;
			[Embed(source="assets/bg.jpg")]
			[Bindable]
			public var bgImg:Class;
			[Embed(source="assets/center.jpg")]
			[Bindable]
			public var bg2Img:Class;
			[Embed(source="assets/svg/1111.svg")]
			[Bindable]
			public var svgC:Class;
			[Embed(source="assets/svg/2222.svg")]
			[Bindable]
			public var svg2:Class;
			[Embed(source="assets/svg/3333.svg")]
			[Bindable]
			public var svg3:Class;
			[Embed(source="assets/svg/4444.svg")]
			[Bindable]
			public var svg4:Class;
			
			protected function image1_mouseOverHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				var img:Image = event.currentTarget as Image;
				//img.opaqueBackground = "0xef23ed";
				img.alpha = 0.5;
			}
			
			protected function image1_mouseOutHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				var img:Image = event.currentTarget as Image;
				//img.opaqueBackground = null;
				img.alpha = 0.2;
				
			}
			
			
			protected function getListByArea(arg0:String):void
			{
				getListByAreaResult.token = siteSchema.getListByArea(arg0);
			}
			
			protected function datagrid1_creationCompleteHandler(event:FlexEvent):void
			{
				// TODO Auto-generated method stub
				getListByArea('1');
			}
			
			protected function button1_clickHandler(event:MouseEvent):void
			{
				var btn:Button = event.currentTarget as  Button;
				var id:String = btn.label;
				getListByArea(id);
			}
			
			protected function image1_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				var img:Image = event.currentTarget as Image;
				//Alert.show(img.toString());
			}
		]]>
	</fx:Script>
		<s:layout>
			<s:VerticalLayout gap="-1"  ></s:VerticalLayout>
		</s:layout>
		<s:BorderContainer  borderAlpha="0.3"  borderVisible="false" backgroundAlpha="0.0" width="100%" height="{this.height-siteGrid.height}" dropShadowVisible="false">
			<s:layout>
				<s:HorizontalLayout gap="-1" paddingLeft="10" paddingRight="10" paddingTop="10" />
			</s:layout>
			<s:Panel id="areaSch"  title="福州市区划图" borderAlpha="0.3" width="40%" height="100%" dropShadowVisible="false" >
				<s:BorderContainer backgroundAlpha="0.9" borderVisible="false" width="100%" backgroundImageFillMode="scale" backgroundImage="{bgImg}"  height="100%">
					<!--<mx:Image source="{bgImg}"   /> 
					<mx:Image source="{svg2}" mouseOver="image1_mouseOverHandler(event)" 
							   mouseOut="image1_mouseOutHandler(event)"  alpha="0.2" 
							   buttonMode="true" scaleContent="true"  click="image1_clickHandler(event)" />
					<mx:Image source="{svg3}" mouseOver="image1_mouseOverHandler(event)" 
							  mouseOut="image1_mouseOutHandler(event)"  alpha="0.2" 
							  buttonMode="true" scaleContent="true" click="image1_clickHandler(event)"  />
					<mx:Image source="{svg4}" mouseOver="image1_mouseOverHandler(event)" 
							  mouseOut="image1_mouseOutHandler(event)"  alpha="0.2" 
							  buttonMode="true" scaleContent="true" click="image1_clickHandler(event)"  />
					
					-->

				</s:BorderContainer>
			</s:Panel>
			<s:Panel title="福州市电业局站点" borderAlpha="0.3" width="60%" height="100%" dropShadowVisible="false"  >
				<s:BorderContainer backgroundAlpha="0.9" borderVisible="false" width="100%" backgroundImageFillMode="scale" backgroundImage="{bg2Img}"  height="100%">
				</s:BorderContainer>
				<!--
				<s:layout>
					<s:HorizontalLayout gap="1" paddingLeft="5" paddingTop="5" paddingRight="5" paddingBottom="5" />
				</s:layout>
				<s:Button click="button1_clickHandler(event)" label="1" />
				<s:Button click="button1_clickHandler(event)" label="2" />
				-->
			</s:Panel>
		</s:BorderContainer>	
		<s:BorderContainer id="siteGrid" borderAlpha="0.3"  borderVisible="false" backgroundAlpha="0.0" width="100%"  dropShadowVisible="false">
			<s:layout>
				<s:VerticalLayout  gap="1" paddingBottom="10" paddingLeft="10" paddingRight="10" />
			</s:layout>
			<mx:DataGrid paddingTop="0" width="100%" dataProvider="{getListByAreaResult.lastResult}"  creationComplete="datagrid1_creationCompleteHandler(event)">
				<mx:columns>
					<!--<mx:DataGridColumn dataField="siteId" headerText="站点编码" />-->
					<mx:DataGridColumn dataField="siteName" headerText="站点名称" />
					<mx:DataGridColumn dataField="siteAdress" headerText="站点位置" />
					<mx:DataGridColumn dataField="connactName" headerText="联系人" />
					<mx:DataGridColumn dataField="connactNumber" headerText="联系电话" />
					<mx:DataGridColumn dataField="descp" headerText="备注"/>
				</mx:columns>
			</mx:DataGrid>
		</s:BorderContainer>
</s:Application>
